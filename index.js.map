{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst BASIC_URL = 'https://pixabay.com/api/';\nconst KEY_API = '46224221-307a76b395d66c959be951e41';\n\nexport function fetchImages(query) {\n    const searchParams = new URLSearchParams({\n        key: KEY_API,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`${BASIC_URL}?${searchParams}`)\n    .then(response => {\n        if (!response.ok) {\n            throw new Error(response.status)\n        }\n        return response.json()\n    })\n    .then(data => {\n        const images = data.hits;\n        if (images.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\",\n            });\n            return [];\n        }\n        return images;\n    })\n    .catch(error => {\n        iziToast.error({\n            title: 'Error',\n            message: 'Illegal operation',\n            position: \"topRight\",\n        });\n        return []\n    });\n}\n","export function renderGallery (images) {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n\n    const markup = images.map(image => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img \n                    class=\"gallery-image\" \n                    src=\"${image.webformatURL}\" \n                    alt=\"${image.tags}\" \n                    loading=\"lazy\"\n                />\n                <div class=\"image-info\">\n                    <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>\n                    <p class=\"info-item\"><b>Views:</b> ${image.views}</p>\n                    <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>\n                    <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>\n                </div>\n            </a>\n        </li>\n    `).join('');\n\n    gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nconst loaderContainer = document.querySelector('.loader-container');\nexport function showLoader() {\n    loaderContainer.classList.remove('hidden');\n}\nexport function hideLoader() {\n    loaderContainer.classList.add('hidden')\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {fetchImages} from './js/pixabay-api';\nimport { renderGallery, showLoader, hideLoader } from \"./js/render-functions\";\nlet lightbox;\n\nconst form = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit (event) {\n    event.preventDefault();\n    const query = form.elements.searchInput.value.trim();\n\n    if (query === '') {\n        iziToast.warning({\n            message: 'Please fill in the field',\n            position: \"topRight\",\n        });\n        return;\n    }\n\n    gallery.innerHTML = '';\n\n    \n\n    fetchImages(query)\n        .then(images => {\n            showLoader();\n            if (images.length > 0) {\n                renderGallery(images);\n                initializeLightbox();\n            }\n        })\n        .catch(error => {\n            console.error(error);\n            iziToast.error({\n                title: 'Error',\n                message: 'An error occurred while fetching images. Please try again',\n                position: \"topRight\",\n            });\n        })\n        .finally(() => {\n            hideLoader();\n        })\n\n        form.reset();\n}\n\nfunction initializeLightbox () {\n    if (lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captions: true,\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n    }\n}\n\n"],"names":["BASIC_URL","KEY_API","fetchImages","query","searchParams","response","data","images","iziToast","error","renderGallery","gallery","markup","image","loaderContainer","showLoader","hideLoader","lightbox","form","onSubmit","event","initializeLightbox","SimpleLightbox"],"mappings":"6vBAGA,MAAMA,EAAY,2BACZC,EAAU,qCAET,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGH,CAAS,IAAII,CAAY,EAAE,EAC1C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,KAAM,CAC9B,CAAK,EACA,KAAKC,GAAQ,CACV,MAAMC,EAASD,EAAK,KACpB,OAAIC,EAAO,SAAW,GAClBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EACM,IAEJD,CACf,CAAK,EACA,MAAME,IACHD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oBACT,SAAU,UACtB,CAAS,EACM,CAAE,EACZ,CACL,CC1CO,SAASE,EAAeH,EAAQ,CACnC,MAAMI,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAASL,EAAO,IAAIM,GAAS;AAAA;AAAA,4CAEKA,EAAM,aAAa;AAAA;AAAA;AAAA,2BAGpCA,EAAM,YAAY;AAAA,2BAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,yDAIoBA,EAAM,KAAK;AAAA,yDACXA,EAAM,KAAK;AAAA,4DACRA,EAAM,QAAQ;AAAA,6DACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAIvE,EAAE,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAM,CAClD,CAEA,MAAME,EAAkB,SAAS,cAAc,mBAAmB,EAC3D,SAASC,GAAa,CACzBD,EAAgB,UAAU,OAAO,QAAQ,CAC7C,CACO,SAASE,GAAa,CACzBF,EAAgB,UAAU,IAAI,QAAQ,CAC1C,CCzBA,IAAIG,EAEJ,MAAMC,EAAO,SAAS,cAAc,iBAAiB,EAC/CP,EAAU,SAAS,cAAc,UAAU,EAEjDO,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAAUC,EAAO,CACtBA,EAAM,eAAc,EACpB,MAAMjB,EAAQe,EAAK,SAAS,YAAY,MAAM,OAE9C,GAAIf,IAAU,GAAI,CACdK,EAAS,QAAQ,CACb,QAAS,2BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDG,EAAQ,UAAY,GAIpBT,EAAYC,CAAK,EACZ,KAAKI,GAAU,CACZQ,IACIR,EAAO,OAAS,IAChBG,EAAcH,CAAM,EACpBc,IAEhB,CAAS,EACA,MAAMZ,GAAS,CACZ,QAAQ,MAAMA,CAAK,EACnBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4DACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXQ,GACZ,CAAS,EAEDE,EAAK,MAAK,CAClB,CAEA,SAASG,GAAsB,CACvBJ,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIK,EAAe,aAAc,CACxC,SAAU,GACV,aAAc,MACd,aAAc,GAC1B,CAAS,CAET"}